services:
    video-downloader:
        build: .
        ports:
            - "5000:5000"
        volumes:
            - ./data:/app/data
            - ./config:/app/config
        environment:
            - FLASK_ENV=production
            - PYTHONUNBUFFERED=1
        restart: unless-stopped
        healthcheck:
            test: ["CMD", "curl", "-f", "http://localhost:5000/api/test"]
            interval: 30s
            timeout: 10s
            retries: 3
            start_period: 40s
